<app-header></app-header>

<div class="flex">
  <!-- Sidebar -->
  <aside class="w-1/4 bg-white p-6 border-r">
    <div class="flex flex-col space-y-4">
      <button
        class="bg-gray-200 py-3 px-4 text-left rounded-lg text-gray-700 font-semibold hover:bg-blue-100 focus:outline-none hover:text-green-400"
      >
        Dashboard
      </button>
      <a
        routerLink="/userList"
        class="bg-gray-100 py-3 px-4 text-left rounded-lg text-gray-500 font-semibold hover:bg-blue-100 focus:outline-none hover:text-green-400"
      >
        Users
      </a>
      <a
        routerLink="/stockList"
        class="bg-gray-100 py-3 px-4 text-left rounded-lg text-gray-500 font-semibold hover:bg-blue-100 focus:outline-none hover:text-green-400"
      >
        Stocks
      </a>
      <button
        routerLink="/ordermanagement"
        class="bg-gray-100 py-3 px-4 text-left rounded-lg text-gray-500 font-semibold hover:bg-blue-100 focus:outline-none hover:text-green-400"
      >
        Order Management
      </button>
      <button
        class="bg-gray-100 py-3 px-4 text-left rounded-lg text-gray-500 font-semibold hover:bg-blue-100 focus:outline-none hover:text-green-400"
      >
        Transactions
      </button>
    </div>
  </aside>

  <!-- Main Content for View Order Execution Details -->
  <main class="flex-1 p-6 bg-gray-50">
    <h1 class="text-2xl font-bold text-gray-800 mb-4">
      Order Execution Details
    </h1>

    <!-- Order Information Section -->
    <div class="bg-indigo-50 p-6 rounded-lg shadow-md mb-6">
      <h2 class="text-lg font-semibold text-gray-800">Order Information</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <div>
          <label for="order-id" class="block text-sm text-gray-700"
            >Order ID</label
          >
          <input
            id="order-id"
            type="text"
            value="{{ orderDetails?._id }}"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
        <div>
          <label for="stock-symbol" class="block text-sm text-gray-700"
            >Stock Symbol</label
          >
          <input
            id="stock-symbol"
            type="text"
            value="{{ orderDetails?.stock?.symbol ?? '' }}"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
        <div>
          <label for="order-type" class="block text-sm text-gray-700"
            >Order Type</label
          >
          <input
            id="order-type"
            type="text"
            value="{{ orderDetails?.orderType }}"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4">
        <div>
          <label for="quantity" class="block text-sm text-gray-700"
            >Quantity</label
          >
          <input
            id="quantity"
            type="text"
            value="{{ orderDetails?.quantity }}"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
        <div>
          <label for="status" class="block text-sm text-gray-700">Status</label>
          <input
            id="status"
            type="text"
            value="{{ orderDetails?.status }}"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
      </div>
    </div>

    <!-- Execution Details Section -->
    <div class="bg-indigo-50 p-6 rounded-lg shadow-md mb-6">
      <h2 class="text-lg font-semibold text-gray-800">Execution Details</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <div>
          <label for="execution-price" class="block text-sm text-gray-700"
            >Matched Price</label
          >
          <input
            id="execution-price"
            type="text"
            value="{{ orderDetails?.price }}"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
        <div>
          <label for="execution-quantity" class="block text-sm text-gray-700"
            >Matched Quantity</label
          >
          <input
            id="execution-quantity"
            type="text"
            value="{{ orderDetails?.quantity }}"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
        <div>
          <label for="execution-time" class="block text-sm text-gray-700"
            >Execution Time</label
          >
          <input
            id="execution-time"
            type="text"
            value="{{ orderDetails?.createdAt }}"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
      </div>
    </div>

    <!-- Trade Partner Details Section -->
    <div class="bg-indigo-50 p-6 rounded-lg shadow-md mb-6">
      <h2 class="text-lg font-semibold text-gray-800">Trade Partner Details</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <div>
          <label for="partner-name" class="block text-sm text-gray-700"
            >Partner Name</label
          >
          <input
            id="partner-name"
            type="text"
            value="Jane Smith"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
        <div>
          <label for="partner-id" class="block text-sm text-gray-700"
            >Partner ID</label
          >
          <input
            id="partner-id"
            type="text"
            value="98765"
            class="w-full mt-2 p-2 border border-gray-300 rounded-lg"
            disabled
          />
        </div>
      </div>
    </div>

    <!-- Audit Trail Section -->
    <div class="bg-indigo-50 p-6 rounded-lg shadow-md mb-6">
      <h2 class="text-lg font-semibold text-gray-800">Audit Trail</h2>
      <div class="overflow-x-auto">
        <table class="w-full text-left table-auto">
          <thead>
            <tr>
              <th class="px-4 py-2 text-sm font-medium text-gray-700">
                Timestamp
              </th>
              <th class="px-4 py-2 text-sm font-medium text-gray-700">
                Action
              </th>
              <th class="px-4 py-2 text-sm font-medium text-gray-700">
                Details
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let transaction of transactions">
              <td class="px-4 py-2 text-sm text-gray-800">
                {{ transaction.createdAt }}
              </td>
              <td class="px-4 py-2 text-sm text-gray-800">
                {{ transaction.type }}
              </td>
              <td class="px-4 py-2 text-sm text-gray-800">
                {{
                  transaction.buyOrder
                    ? "Buy Order Executed"
                    : "Sell Order Executed"
                }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </main>
</div>
